<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Smart Study Companion</title>

  <!-- styles -->
  <link rel="stylesheet" href="style.css">

  <!-- PDF.js and JSZip from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.worker.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" crossorigin="anonymous"></script>

  <meta name="description" content="Smart Study Companion - local pdf/zip processing, summaries & quizzes" />
</head>
<body>
  <div class="container">
    <h1>Smart Study Companion</h1>
    <div class="card">
      <label for="studentName">Name</label>
      <input id="studentName" type="text" placeholder="Enter name">
      <button id="saveName" class="btn btn-primary">Save</button>

      <div class="row">
        <label for="voiceSelect">Voice</label>
        <select id="voiceSelect">
          <option value="en-IN">English (India)</option>
          <option value="hi-IN">Hindi (India)</option>
          <option value="en-US">English (US)</option>
        </select>
        <button id="enableVoice" class="btn">Enable</button>
      </div>

      <div class="row">
        <input id="fileInput" type="file" multiple />
        <button id="processBtn" class="btn btn-primary">Process</button>
        <div class="note">Accepts PDF, TXT, HTML, JPG/PNG inside ZIP (auto-unpacks). Max single upload ~500MB (device dependent).</div>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab active" data-tab="library">Library</button>
      <button class="tab" data-tab="summaries">Summaries</button>
      <button class="tab" data-tab="quiz">Quiz</button>
      <button class="tab" data-tab="manage">Manage</button>
      <button class="tab" data-tab="help">Help</button>
    </nav>

    <section id="library" class="panel active">
      <h2>Current library</h2>
      <div id="fileList" class="list">No files yet.</div>
    </section>

    <section id="summaries" class="panel">
      <h2>Summaries</h2>
      <div class="controls">
        <button id="quickSummary" class="btn">Quick</button>
        <button id="detailedSummary" class="btn">Detailed</button>
        <button id="readSummary" class="btn">Read</button>
      </div>
      <div id="summaryBox" class="output">Summaries will appear here...</div>
    </section>

    <section id="quiz" class="panel">
      <h2>Quiz</h2>
      <div class="controls">
        <select id="quizType">
          <option value="mcq">MCQ (4 choices)</option>
          <option value="tf">True/False</option>
        </select>
        <button id="generateQuiz" class="btn btn-primary">Generate</button>
        <button id="readQuiz" class="btn">Read</button>
      </div>
      <div id="quizBox" class="output">Quiz appears here...</div>
    </section>

    <section id="manage" class="panel">
      <h2>Manage</h2>
      <div>
        <button id="backupBtn" class="btn">Export Backup (JSON)</button>
        <button id="restoreBtn" class="btn">Restore Backup</button>
        <input type="file" id="restoreFile" style="display:none">
      </div>
      <div class="note">All data stored locally (browser). Use backup to move between devices.</div>
    </section>

    <section id="help" class="panel">
      <h2>Help</h2>
      <p>Upload PDF/TXT/HTML or a ZIP (auto-unpacks). If PDFs are images, enable OCR (not included in this build). Use "Process" to extract text. Summaries & quizzes generated locally.</p>
      <p>If voice doesn't sound Indian on your device, try selecting "English (India)" and check browser voices (Chrome desktop usually has en-IN).</p>
    </section>

    <footer class="footer">Made with ❤️ — Smart Study Companion • Works offline after first load</footer>
  </div>

  <!-- main app logic -->
  <script src="app.js"></script>
</body>
</html>