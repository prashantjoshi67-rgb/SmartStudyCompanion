<!-- START OF FILE: index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Smart Study Companion</title>

  <!-- Primary stylesheet -->
  <link rel="stylesheet" href="style.css">

  <!-- Small inline helpful note for debugging (remove in final) -->
  <meta name="description" content="Smart Study Companion — offline-first study helper." />
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>Smart Study Companion</h1>
      <div class="status" id="status">Status: <span id="statusText">Demo</span></div>
    </header>

    <!-- --- START: Controls card --- -->
    <section class="card controls-card" aria-label="Start · Load material">
      <h2>Start · Load material</h2>

      <!-- 1) Name -->
      <label for="name">Name</label>
      <input id="name" type="text" placeholder="Your name" value="" />
      <button class="btn btn-primary" id="saveName">Save</button>

      <!-- Voice controls -->
      <div class="row">
        <label for="voiceSelect">Voice</label>
        <select id="voiceSelect" aria-label="Voice select">
          <!-- voice list will be populated by app.js -->
        </select>
        <button id="enableVoice" class="btn">Enable</button>
      </div>

      <!-- Mode (KBC/Game / Normal / Silent) -->
      <div class="row">
        <label for="modeSelect">Mode</label>
        <select id="modeSelect">
          <option value="kbc">KBC (Game)</option>
          <option value="normal">Normal</option>
          <option value="silent">Silent</option>
        </select>
      </div>

      <!-- License -->
      <label for="license">License</label>
      <input id="license" type="text" placeholder="License key" value="" />
      <button id="applyLicense" class="btn">Apply</button>

      <!-- File input -->
      <div class="row file-row">
        <label for="fileInput">Files</label>
        <input id="fileInput" type="file" accept=".pdf,.txt,.html,.zip,.jpg,.png" multiple />
        <button id="processBtn" class="btn btn-primary">Process</button>
      </div>

      <!-- Delete all library -->
      <div class="row">
        <button id="deleteAll" class="btn danger">Delete all files</button>
      </div>

      <p class="note">Accepted: PDF / TXT / HTML / JPG / PNG / ZIP (auto-unpacks). Demo upload limit ~50MB; full mode supports larger files.</p>
    </section>
    <!-- --- END: Controls card --- -->

    <!-- --- START: Navigation tabs --- -->
    <nav class="tabs" role="tablist" aria-label="Main tabs">
      <button class="tab" data-tab="library">Library</button>
      <button class="tab" data-tab="summaries">Summaries</button>
      <button class="tab" data-tab="quiz">Quiz</button>
      <button class="tab" data-tab="manage">Manage</button>
      <button class="tab" data-tab="settings">Settings</button>
      <button class="tab" data-tab="feedback">Feedback</button>
      <button class="tab" data-tab="help">Help</button>
    </nav>
    <!-- --- END: Navigation tabs --- -->

    <!-- --- START: Library panel --- -->
    <section id="panel-library" class="panel active">
      <h2>Current library</h2>
      <ul id="libraryList" class="library-list" aria-live="polite">
        <!-- populated by app.js -->
      </ul>
    </section>
    <!-- --- END: Library panel --- -->

    <!-- --- START: Summaries panel --- -->
    <section id="panel-summaries" class="panel">
      <h2>Summaries</h2>
      <div class="controls">
        <button id="quickSummary" class="btn">Quick</button>
        <button id="detailedSummary" class="btn">Detailed</button>
        <button id="readSummary" class="btn">Read</button>
        <button id="createMCQs" class="btn">Create MCQs</button>
      </div>
      <div id="summaryOutput" class="outputbox" aria-live="polite">
        <!-- summaries will appear here -->
      </div>
      <p class="note" id="ocrNote">(If PDF extraction failed: maybe image-based PDF; OCR required. Choose OCR language in Settings and re-process.)</p>
    </section>
    <!-- --- END: Summaries panel --- -->

    <!-- --- START: Quiz panel --- -->
    <section id="panel-quiz" class="panel">
      <h2>Quiz</h2>
      <div class="row">
        <label for="quizType">Type</label>
        <select id="quizType">
          <option value="mcq4">MCQ (4 choices)</option>
          <option value="truefalse">True/False</option>
          <option value="short">Short answer</option>
        </select>

        <label for="quizTimer">Timer</label>
        <select id="quizTimer">
          <option value="0">No timer</option>
          <option value="30">30s</option>
          <option value="60">60s</option>
        </select>
      </div>

      <div class="controls">
        <button id="generateQuiz" class="btn btn-primary">Generate</button>
        <button id="readQuiz" class="btn">Read</button>
        <button id="copyQuiz" class="btn">Copy</button>
      </div>

      <div id="quizOutput" class="outputbox" aria-live="polite">Quiz appears here...</div>
    </section>
    <!-- --- END: Quiz panel --- -->

    <!-- --- START: Manage panel --- -->
    <section id="panel-manage" class="panel">
      <h2>Manage</h2>
      <p>Manage your uploads, syllabus maps and backups.</p>
      <div class="row">
        <button id="exportBackup" class="btn">Backup</button>
        <button id="importBackup" class="btn">Restore</button>
      </div>
      <div class="note">Select files in Library to delete or restore.</div>
    </section>
    <!-- --- END: Manage panel --- -->

    <!-- --- START: Settings / OCR panel --- -->
    <section id="panel-settings" class="panel">
      <h2>Settings / OCR</h2>
      <div class="row">
        <label for="ocrLang">OCR language</label>
        <select id="ocrLang">
          <option value="eng">English</option>
          <option value="hin">Hindi</option>
          <option value="eng+hin">Eng+Hin</option>
          <option value="mar">Marathi</option>
          <option value="guj">Gujarati</option>
        </select>
        <button id="ocrHelp" class="btn">Help</button>
      </div>
      <p class="note">Tip: OCR is CPU-heavy on mobile — prefer desktop for large batches. You can download worker files for extra languages in Manage.</p>
    </section>
    <!-- --- END: Settings panel --- -->

    <!-- --- START: Feedback & Help panels --- -->
    <section id="panel-feedback" class="panel">
      <h2>Feedback</h2>
      <p>Send feedback (displayed email is editable in app):</p>
      <div class="row">
        <input id="feedbackEmail" type="email" placeholder="your-email@example.com" />
        <button id="sendFeedback" class="btn">Send</button>
      </div>
    </section>

    <section id="panel-help" class="panel">
      <h2>Help</h2>
      <p>Quick tips and user manual links.</p>
      <a id="userManual" href="manuals/User_Manual.html" target="_blank">Open User Manual</a>
    </section>
    <!-- --- END: Feedback & Help panels --- -->

    <footer class="footer">
      <small>Made with ❤️ — Smart Study Companion · Works offline after first load.</small>
    </footer>
  </div>

  <!-- CDN libraries (required) -->
  <!-- JSZip (for ZIP unpacking) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js" crossorigin="anonymous"></script>

  <!-- PDF.js (text extraction) + worker. Ensure version matches what app.js expects -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.worker.min.js" crossorigin="anonymous"></script>

  <!-- Tesseract.js (for OCR) -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.3/dist/tesseract.min.js" crossorigin="anonymous"></script>

  <!-- Main app logic (must match the file you committed) -->
  <script src="app.js"></script>

  <!-- Inline helper to wire tabs quickly if app.js didn't -->
  <script>
    (function () {
      // Basic tab wiring (app.js may replace this)
      const tabs = document.querySelectorAll('.tab');
      const panels = document.querySelectorAll('.panel');
      tabs.forEach(t=>t.addEventListener('click', ()=> {
        const tab = t.getAttribute('data-tab');
        panels.forEach(p=>p.classList.remove('active'));
        document.getElementById('panel-'+tab).classList.add('active');
        tabs.forEach(x=>x.classList.remove('active'));
        t.classList.add('active');
      }));
      // show default (library)
      document.querySelector('.tab[data-tab="library"]').classList.add('active');
      document.getElementById('panel-library').classList.add('active');
    })();
  </script>

  <!-- END -->
  <!-- === END OF FILE: index.html === -->
</body>
</html>